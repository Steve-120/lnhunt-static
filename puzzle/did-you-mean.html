




<!doctype html>
<html>    
<head>
    <meta charset="utf-8">
    <meta name="format-detection" content="telephone=no">
    
<title>Did You Mean...</title>

    <meta name="viewport" content="width=device-width, initial-scale=0.5">
    <meta property="og:title" content="LN Hunt">
    <meta property="og:description" content="Volume 1 releases Dec 6 7:00 JST. Register now!">
    <meta property="og:image" content="https://ln-hunt.com/static/images/ln_white.png">
    <meta property="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://ln-hunt.com/static/images/ln_white.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <link rel="stylesheet" href="../static/css/skeleton.css">
    <link rel="stylesheet" href="../static/css/base.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.touchswipe/1.6.19/jquery.touchSwipe.min.js"></script>
    <script src="https://ln-hunt.com/jsi18n/"></script>
    <script src="../static/js/jquery.formset.js"></script>
    <script src="../static/js/sorttable.js"></script>
    <script src="../static/js/tray.js"></script>
    <script src="../static/js/notify.js"></script>
    <script src="../static/js/time.js"></script>
    <link rel="icon" sizes="16x16 32x32 48x48 64x64" href="../static/images/favicon.ico" type="image/vnd.microsoft.icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:ital,wght@0,300..900;1,300..900&family=Red+Hat+Mono:ital,wght@0,300..700;1,300..700&display=swap" rel="stylesheet">
    
<script>
  /* FIXME */
</script>

</head>
<body>
    <a class="skip-to-main">Press enter to skip to main content.</a>
    <nav class="top-navbar">
        <span class="tray">
            <div class="top-tabs">
                <div class="top-team-actions">
                    
                </div>
                <div class="site-nav">
                    <a href="../index.html">
                        Home
                    </a>
                    <a href="../about.html">
                        About
                    </a>
                    
                    
                    <a class="selected-tab" href="../puzzles.html">
                        Puzzles
                    </a>
                    
                    <a href="../teams.html">
                        Teams
                    </a>
                    
                    <a href="../errata.html">
                        Updates
                    </a>
                    
                    
                    <!--<a href="https://FIXME/archive">
                        Archive
                    </a>-->
                </div>
            </div>
        </span>
    </nav>
    <script>
    
    
    </script>
    
    <div class="top-more-actions">
        

<a href="../round/nether.html" class="btn">Nether</a>




<a href="../post-hunt-solve/did-you-mean.html" class="btn">Check your answer spoiler-free</a>


<a href="../solution/did-you-mean.html" class="btn">View solution</a>
<a href="../stats/did-you-mean.html" class="btn">Stats</a>


    </div>
    <div class="content">
        
<link rel="stylesheet" href="../static/css/nether.css">

<script src="../static/js/metameta.js" type="text/javascript"></script>


<h1>
    Did You Mean...
    
    
</h1>

<main class="puzzle-main clipboard-container">
    
    
    
    
    
    
    
    
    
    
    

    
    
<form id="did-you-mean-form" autocomplete="off" action="javascript:void(0);">
    <input type="hidden" name="csrfmiddlewaretoken" value="2F9aKTNHfJ1ra4nh9pSdn4fbwJmRhpsZFsRn1PLJS5iQnCiOHzdv3MiLpqwNzvEO">
    <input type="text" id="query" name="query" placeholder="Enter a word">
    <input type="submit" id="submit" value="Search">
</form>

<div id="output">
</div>

<script type="text/javascript">
document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('did-you-mean-form');
    const outputDiv = document.getElementById('output');
    const queryInput = document.getElementById('query');
    const submitBtn = document.getElementById('submit');

    // Helper: get CSRF token (from Django docs)
    function getCookie(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== '') {
            const cookies = document.cookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                const cookie = cookies[i].trim();
                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }
    const csrftoken = getCookie('csrftoken');

    async function submitQuery(event) {
        event.preventDefault();

        // Disable form during request
        queryInput.disabled = true;
        submitBtn.disabled = true;
        outputDiv.innerHTML = "<p>Searching...</p>";

        try {
            const response = await fetch("/puzzle/did-you-mean/submit", {
                method: "POST",
                headers: {
                    "X-CSRFToken": csrftoken,
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({ query: queryInput.value })
            });

            if (!response.ok) {
                outputDiv.innerHTML = `<p class="error">HTTP Error: ${response.status} ${response.statusText}. Please retry in a bit, and if the error persists, contact us at lnpuzzlehunt@gmail.com. </p>`;
                return;
            }

            const res = await response.json();

            if (res.error) {
                outputDiv.innerHTML = `<p class="error">${res.error}</p>`;
                return;
            }

            // Render results
            if (res.results && res.results.length > 0) {
                let suggestions = res.results;
                let html = "";

                if (suggestions.length === 6) {
                    html = suggestions.join("");
                }

                outputDiv.innerHTML = html;
            } else {
                outputDiv.innerHTML = "<p>No results found.</p>";
            }

        } catch (err) {
            outputDiv.innerHTML = `<p class="error">Error: ${err.message}. Please retry in a bit, and if the error persists, contact us at lnpuzzlehunt@gmail.com. </p></p>`;
        } finally {
            queryInput.disabled = false;
            submitBtn.disabled = false;
            queryInput.focus();
        }
    }

    form.addEventListener('submit', submitQuery);
});
</script>

<style>
#did-you-mean-form {
    margin-top: 1em;
    margin-bottom: 1em;
}
#query {
    padding: 0.4em;
    font-size: 1.1em;
}
#submit {
    font-size: 1.1em;
}
#output {
    margin-top: 1em;
}
.error {
    color: #b33;
    font-weight: bold;
}
</style>

</main>

<script src="../static/js/copyjack.js"></script>


    </div>
    
    <script>
        const skipToMainLink = document.querySelector("a.skip-to-main");
        const mainContentElement = document.getElementsByTagName("main")?.item(0) || document.querySelector("div.content");
        if (skipToMainLink && mainContentElement) {
            const mainContentAnchor = document.createElement("a");
            const anchorId = "main-content-anchor"
            mainContentAnchor.className = anchorId;
            mainContentAnchor.id = anchorId;
            skipToMainLink.href = `#${anchorId}`;
            mainContentElement.parentNode.insertBefore(mainContentAnchor, mainContentElement);
        }
    </script>
    <footer>
        Powered by <a href="https://github.com/galacticpuzzlehunt/gph-site">gph-site</a>
    </footer>
</body>
</html>
